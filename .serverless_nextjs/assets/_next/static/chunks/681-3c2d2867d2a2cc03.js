"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[681],{4917:function(e,t,n){var r=n(855);function i(e){if(!Object.prototype.hasOwnProperty.call(s.message,e))throw new Error("invalid status code: "+e);return s.message[e]}function s(e){if("number"===typeof e)return i(e);if("string"!==typeof e)throw new TypeError("code must be a number or string");var t=parseInt(e,10);return isNaN(t)?function(e){var t=e.toLowerCase();if(!Object.prototype.hasOwnProperty.call(s.code,t))throw new Error('invalid status message: "'+e+'"');return s.code[t]}(e):i(t)}e.exports=s,s.message=r,s.code=function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n],i=Number(n);t[r.toLowerCase()]=i})),t}(r),s.codes=function(e){return Object.keys(e).map((function(e){return Number(e)}))}(r),s.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},s.empty={204:!0,205:!0,304:!0},s.retry={502:!0,503:!0,504:!0}},7681:function(e,t,n){n.d(t,{i:function(){return Pe}});var r=n(7294),i=n(4917);let s=0;const o=(e,t,n=200)=>{var r,s;if(n>=400)throw new TypeError(`Invalid success status code, expected status to be within \`[100;400[\`, got \`${n}\``);return{requestID:e,status:n,msg:null!=(s=null==(r=i.message[n])?void 0:r.replace(/\.$/,"").toLowerCase())?s:"",data:t}},a=(e,t,n=400)=>{var r,s;if(n<400)throw new TypeError(`Invalid error status code, expected status to be within \`[500;600[\`, got \`${n}\``);return{requestID:e,status:n,msg:null!=(s=null==(r=i.message[n])?void 0:r.replace(/\.$/,"").toLowerCase())?s:"",error:t}},c=e=>{if("object"!==typeof e||null===e)throw new TypeError(`Invalid message received, expected message to be of type \`object\`, got \`${typeof e}\``);if(!Object.keys(e).every((e=>["requestID","type","data","status","msg","error"].includes(e))))throw new TypeError(`Invalid message received: ${JSON.stringify(e)}`);if("string"!==typeof e.requestID)throw new TypeError(`Invalid message received, expected \`message.requestID\` to be of type \`string\`, got \`${typeof e.id}\``);return e},u=e=>"type"in e,l=e=>!("type"in e);class d extends Error{constructor(e){super(e.msg),this.response=e}}Error;class h extends Error{constructor(e){super("Too many concurrent requests"),this.request=e}}class f extends Error{constructor(e){super(`Request \`${e.requestID}\` timed out`),this.request=e}}class _ extends Error{}class p extends Error{constructor(){super("Port is not set")}}Error;const g={debug:!1,maximumRequestConcurrency:20,defaultTimeout:5e3,requestIDPrefix:"channel-"};class v{constructor(e,t){this._port=null,this._pendingRequests=new Map,this.requestHandlers=e,this.options={...g,...t}}get port(){if(!this._port)throw new p;return this._port}set port(e){this._port&&(this._port.onmessage=null),this._port=e,this._port&&(this._port.onmessage=this.onMessage.bind(this))}createRequestMessage(e,t){return((e,t,n="")=>({requestID:`${n}${s++}`,type:e,data:t}))(e,t,this.options.requestIDPrefix)}async onMessage(e){this.options.debug&&console.debug(e.data);try{const n=c(e.data);if(u(n))if(this.requestHandlers[n.type])try{const e=await this.requestHandlers[n.type](n,{success:o.bind(this,n.requestID),error:a.bind(this,n.requestID)});this.postResponse(e)}catch(t){this.postResponse(a(n.requestID,t,500))}else this.postResponse(a(n.requestID,void 0,501));else this._pendingRequests.has(n.requestID)?(this._pendingRequests.get(n.requestID)(n),this._pendingRequests.delete(n.requestID)):console.error(`Unknown request ID received in response: ${JSON.stringify(n)}`)}catch(t){if(!(t instanceof TypeError))throw t;console.warn(t.message)}}postRequest(e,t=(e=>this.port.postMessage(e)),n={}){if(this.options.debug&&console.debug(e),this._pendingRequests.size>=this.options.maximumRequestConcurrency)throw new h(e);return new Promise(((r,i)=>{const s=setTimeout((()=>{this._pendingRequests.has(e.requestID)&&this._pendingRequests.delete(e.requestID),i(new f(e))}),n.timeout||this.options.defaultTimeout);this._pendingRequests.set(e.requestID,(e=>{var t;clearTimeout(s),l(t=e)&&!("error"in t)?r(e):i(new d(e))})),t(e)}))}postResponse(e,t=(e=>this.port.postMessage(e))){return this.options.debug&&console.debug(e),t(e),e}}var m,y;(m||(m={})).Connect="connect",(y||(y={})).Ready="ready";const w={readyTimeout:2e4,requestIDPrefix:"receiver-"};class S extends v{constructor(e,t){super(e,{...w,...t}),this._ready=!1,window.addEventListener("message",(e=>{this._onPublicMessage(e)}))}async ready(){if(window.parent===window)throw new Error("Receiver is currently not embedded as an iframe");this._ready=!1;const e=this.createRequestMessage(y.Ready,void 0),t=await this.postRequest(e,(e=>{window.parent.postMessage(e,"*")}),{timeout:this.options.readyTimeout});return this._ready=!0,t}_onPublicMessage(e){try{const t=c(e.data);if(u(t))if(this.options.debug&&console.debug(e.data),t.type===m.Connect){this.port=e.ports[0];const n=o(t.requestID,void 0);this.postResponse(n)}else this.postResponse(a(t.requestID,void 0),(t=>{e.source.postMessage(t,e.origin)}));else this._ready||this.onMessage(e)}catch(t){if(!(t instanceof TypeError))throw t}}postFormattedRequest(e,t,n={}){if(!this._ready)throw new _("Receiver is not ready, use `ChannelReceiver.ready()` first");return this.postRequest(this.createRequestMessage(e,t),void 0,n)}}var b,I,T;(b||(b={})).SetActiveSlice="setActiveSlice",(T=I||(I={})).Ping="ping",T.GetLibraries="getLibraries",T.SetSliceZone="setSliceZone",T.SetSliceZoneFromSliceIDs="setSliceZoneFromSliceIDs",T.ScrollToSlice="scrollToSlice";var M;I.Ping,I.GetLibraries,I.SetSliceZone,I.SetSliceZoneFromSliceIDs,I.ScrollToSlice;const q={requestIDPrefix:"api-"};class D extends S{constructor(e,t){var n,r;const i=(null==t?void 0:t.debug)||/[\?&]debug=true/i.test(decodeURIComponent(window.location.search));super({[I.Ping]:(e,t)=>t.success("pong"),...e},{...q,...t,debug:i}),this[M]=async e=>await this.postFormattedRequest(b.SetActiveSlice,e),i&&(window.prismic||(window.prismic={}),(n=window.prismic).sliceSimulator||(n.sliceSimulator={}),(r=window.prismic.sliceSimulator).api||(r.api=[]),window.prismic.sliceSimulator.api.push(this))}}M=b.SetActiveSlice;Object.prototype.hasOwnProperty;var R=function(e){return{_tag:"Left",left:e}},x=function(e){return{_tag:"Right",right:e}},E=function(e){return"Left"===e._tag};var L=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),P=function(){return P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},P.apply(this,arguments)},A=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r},O=R,k=function(e,t,n){return O([{value:e,context:t,message:n}])},j=x,N=function(){function e(e,t,n,r){this.name=e,this.is=t,this.validate=n,this.encode=r,this.decode=this.decode.bind(this)}return e.prototype.pipe=function(t,n){var r=this;return void 0===n&&(n="pipe("+this.name+", "+t.name+")"),new e(n,t.is,(function(e,n){var i=r.validate(e,n);return E(i)?i:t.validate(i.right,n)}),this.encode===C&&t.encode===C?C:function(e){return r.encode(t.encode(e))})},e.prototype.asDecoder=function(){return this},e.prototype.asEncoder=function(){return this},e.prototype.decode=function(e){return this.validate(e,[{key:"",type:this,actual:e}])},e}(),C=function(e){return e};function F(e,t,n,r){for(var i=e.length,s=Array(i+1),o=0;o<i;o++)s[o]=e[o];return s[i]={key:t,type:n,actual:r},s}function Z(e,t){for(var n=t.length,r=0;r<n;r++)e.push(t[r])}var $=Object.prototype.hasOwnProperty;function U(e){return Object.keys(e).map((function(t){return t+": "+e[t].name})).join(", ")}function z(e){for(var t=0;t<e.length;t++)if(e[t].encode!==C)return!1;return!0}function B(e){return"{ "+U(e)+" }"}function H(e){return"Partial<"+e+">"}function G(e){var t;if(J(e)){var n=e.value;if(X.is(n))return(t={})[n]=null,t}else{if("KeyofType"===e._tag)return e.keys;if(Y(e)){var r=e.types.map((function(e){return G(e)}));return r.some(W.is)?void 0:Object.assign.apply(Object,A([{}],r))}}}function K(e,t){for(var n=!0,r=!0,i=!te.is(e),s=0,o=t;s<o.length;s++){(l=o[s])!==e&&(n=!1),te.is(l)&&(r=!1)}if(n)return e;if(r)return t[t.length-1];for(var a={},c=0,u=t;c<u.length;c++){var l=u[c];for(var d in l)a.hasOwnProperty(d)&&!i&&l[d]===e[d]||(a[d]=l[d])}return a}function V(e){return"AnyType"===e._tag}function J(e){return"LiteralType"===e._tag}function Y(e){return"UnionType"===e._tag}new(function(e){function t(){var t=e.call(this,"null",(function(e){return null===e}),(function(e,n){return t.is(e)?j(e):k(e,n)}),C)||this;return t._tag="NullType",t}return L(t,e),t}(N));var W=new(function(e){function t(){var t=e.call(this,"undefined",(function(e){return void 0===e}),(function(e,n){return t.is(e)?j(e):k(e,n)}),C)||this;return t._tag="UndefinedType",t}return L(t,e),t}(N)),X=(new(function(e){function t(){var t=e.call(this,"void",W.is,W.validate,C)||this;return t._tag="VoidType",t}return L(t,e),t}(N)),new(function(e){function t(){var t=e.call(this,"unknown",(function(e){return!0}),j,C)||this;return t._tag="UnknownType",t}return L(t,e),t}(N)),new(function(e){function t(){var t=e.call(this,"string",(function(e){return"string"===typeof e}),(function(e,n){return t.is(e)?j(e):k(e,n)}),C)||this;return t._tag="StringType",t}return L(t,e),t}(N))),Q=new(function(e){function t(){var t=e.call(this,"number",(function(e){return"number"===typeof e}),(function(e,n){return t.is(e)?j(e):k(e,n)}),C)||this;return t._tag="NumberType",t}return L(t,e),t}(N)),ee=(new(function(e){function t(){var t=e.call(this,"bigint",(function(e){return"bigint"===typeof e}),(function(e,n){return t.is(e)?j(e):k(e,n)}),C)||this;return t._tag="BigIntType",t}return L(t,e),t}(N)),new(function(e){function t(){var t=e.call(this,"boolean",(function(e){return"boolean"===typeof e}),(function(e,n){return t.is(e)?j(e):k(e,n)}),C)||this;return t._tag="BooleanType",t}return L(t,e),t}(N)),new(function(e){function t(){var t=e.call(this,"UnknownArray",Array.isArray,(function(e,n){return t.is(e)?j(e):k(e,n)}),C)||this;return t._tag="AnyArrayType",t}return L(t,e),t}(N))),te=new(function(e){function t(){var t=e.call(this,"UnknownRecord",(function(e){var t=Object.prototype.toString.call(e);return"[object Object]"===t||"[object Window]"===t}),(function(e,n){return t.is(e)?j(e):k(e,n)}),C)||this;return t._tag="AnyDictionaryType",t}return L(t,e),t}(N));!function(e){function t(t,n,r,i,s){var o=e.call(this,t,n,r,i)||this;return o.value=s,o._tag="LiteralType",o}L(t,e)}(N);!function(e){function t(t,n,r,i,s){var o=e.call(this,t,n,r,i)||this;return o.keys=s,o._tag="KeyofType",o}L(t,e)}(N);var ne=function(e){function t(t,n,r,i,s,o){var a=e.call(this,t,n,r,i)||this;return a.type=s,a.predicate=o,a._tag="RefinementType",a}return L(t,e),t}(N);pe(Q,(function(e){return Number.isInteger(e)}),"Int");var re=function(e){function t(t,n,r,i,s){var o=e.call(this,t,n,r,i)||this;return o.runDefinition=s,o._tag="RecursiveType",o}return L(t,e),t}(N);Object.defineProperty(re.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});var ie=function(e){function t(t,n,r,i,s){var o=e.call(this,t,n,r,i)||this;return o.type=s,o._tag="ArrayType",o}return L(t,e),t}(N);function se(e,t){return void 0===t&&(t="Array<"+e.name+">"),new ie(t,(function(t){return ee.is(t)&&t.every(e.is)}),(function(t,n){var r=ee.validate(t,n);if(E(r))return r;for(var i=r.right,s=i.length,o=i,a=[],c=0;c<s;c++){var u=i[c],l=e.validate(u,F(n,String(c),e,u));if(E(l))Z(a,l.left);else{var d=l.right;d!==u&&(o===i&&(o=i.slice()),o[c]=d)}}return a.length>0?O(a):j(o)}),e.encode===C?C:function(t){return t.map(e.encode)},e)}var oe=function(e){function t(t,n,r,i,s){var o=e.call(this,t,n,r,i)||this;return o.props=s,o._tag="InterfaceType",o}return L(t,e),t}(N);function ae(e,t){void 0===t&&(t=B(e));var n=Object.keys(e),r=n.map((function(t){return e[t]})),i=n.length;return new oe(t,(function(e){if(te.is(e)){for(var t=0;t<i;t++){var s=n[t],o=e[s];if(void 0===o&&!$.call(e,s)||!r[t].is(o))return!1}return!0}return!1}),(function(e,t){var s=te.validate(e,t);if(E(s))return s;for(var o=s.right,a=o,c=[],u=0;u<i;u++){var l=n[u],d=a[l],h=r[u],f=h.validate(d,F(t,l,h,d));if(E(f))Z(c,f.left);else{var _=f.right;(_!==d||void 0===_&&!$.call(a,l))&&(a===o&&(a=P({},o)),a[l]=_)}}return c.length>0?O(c):j(a)}),z(r)?C:function(e){for(var t=P({},e),s=0;s<i;s++){var o=n[s],a=r[s].encode;a!==C&&(t[o]=a(e[o]))}return t},e)}var ce=function(e){function t(t,n,r,i,s){var o=e.call(this,t,n,r,i)||this;return o.props=s,o._tag="PartialType",o}return L(t,e),t}(N);function ue(e,t){void 0===t&&(t=H(B(e)));var n=Object.keys(e),r=n.map((function(t){return e[t]})),i=n.length;return new ce(t,(function(t){if(te.is(t)){for(var r=0;r<i;r++){var s=n[r],o=t[s];if(void 0!==o&&!e[s].is(o))return!1}return!0}return!1}),(function(t,r){var s=te.validate(t,r);if(E(s))return s;for(var o=s.right,a=o,c=[],u=0;u<i;u++){var l=n[u],d=a[l],h=e[l],f=h.validate(d,F(r,l,h,d));if(E(f))void 0!==d&&Z(c,f.left);else{var _=f.right;_!==d&&(a===o&&(a=P({},o)),a[l]=_)}}return c.length>0?O(c):j(a)}),z(r)?C:function(e){for(var t=P({},e),s=0;s<i;s++){var o=n[s],a=e[o];void 0!==a&&(t[o]=r[s].encode(a))}return t},e)}var le=function(e){function t(t,n,r,i,s,o){var a=e.call(this,t,n,r,i)||this;return a.domain=s,a.codomain=o,a._tag="DictionaryType",a}return L(t,e),t}(N);function de(e,t,n){var r=G(e);return r?function(e,t,n,r){void 0===r&&(r="{ [K in "+t.name+"]: "+n.name+" }");var i=e.length;return new le(r,(function(t){return te.is(t)&&e.every((function(e){return n.is(t[e])}))}),(function(t,r){var s=te.validate(t,r);if(E(s))return s;for(var o=s.right,a={},c=[],u=!1,l=0;l<i;l++){var d=e[l],h=o[d],f=n.validate(h,F(r,d,n,h));if(E(f))Z(c,f.left);else{var _=f.right;u=u||_!==h,a[d]=_}}return c.length>0?O(c):j(u||Object.keys(o).length!==i?a:o)}),n.encode===C?C:function(t){for(var r={},s=0;s<i;s++){var o=e[s];r[o]=n.encode(t[o])}return r},t,n)}(Object.keys(r),e,t,n):function(e,t,n){return void 0===n&&(n="{ [K in "+e.name+"]: "+t.name+" }"),new le(n,(function(n){return te.is(n)?Object.keys(n).every((function(r){return e.is(r)&&t.is(n[r])})):V(t)&&Array.isArray(n)}),(function(n,r){if(te.is(n)){for(var i={},s=[],o=Object.keys(n),a=o.length,c=!1,u=0;u<a;u++){var l=o[u],d=n[l],h=e.validate(l,F(r,l,e,l));if(E(h))Z(s,h.left);else{var f=h.right;c=c||f!==l,l=f;var _=t.validate(d,F(r,l,t,d));if(E(_))Z(s,_.left);else{var p=_.right;c=c||p!==d,i[l]=p}}}return s.length>0?O(s):j(c?i:n)}return V(t)&&Array.isArray(n)?j(n):k(n,r)}),e.encode===C&&t.encode===C?C:function(n){for(var r={},i=Object.keys(n),s=i.length,o=0;o<s;o++){var a=i[o];r[String(e.encode(a))]=t.encode(n[a])}return r},e,t)}(e,t,n)}var he=function(e){function t(t,n,r,i,s){var o=e.call(this,t,n,r,i)||this;return o.types=s,o._tag="UnionType",o}return L(t,e),t}(N);var fe=function(e){function t(t,n,r,i,s){var o=e.call(this,t,n,r,i)||this;return o.types=s,o._tag="IntersectionType",o}return L(t,e),t}(N);function _e(e,t){void 0===t&&(t="("+e.map((function(e){return e.name})).join(" & ")+")");var n=e.length;return new fe(t,(function(t){return e.every((function(e){return e.is(t)}))}),0===e.length?j:function(t,r){for(var i=[],s=[],o=0;o<n;o++){var a=e[o],c=a.validate(t,F(r,String(o),a,t));E(c)?Z(s,c.left):i.push(c.right)}return s.length>0?O(s):j(K(t,i))},0===e.length?C:function(t){return K(t,e.map((function(e){return e.encode(t)})))},e)}!function(e){function t(t,n,r,i,s){var o=e.call(this,t,n,r,i)||this;return o.types=s,o._tag="TupleType",o}L(t,e)}(N);!function(e){function t(t,n,r,i,s){var o=e.call(this,t,n,r,i)||this;return o.type=s,o._tag="ReadonlyType",o}L(t,e)}(N);!function(e){function t(t,n,r,i,s){var o=e.call(this,t,n,r,i)||this;return o.type=s,o._tag="ReadonlyArrayType",o}L(t,e)}(N);!function(e){function t(t,n,r,i,s){var o=e.call(this,t,n,r,i)||this;return o.type=s,o._tag="ExactType",o}L(t,e)}(N);new(function(e){function t(){var t=e.call(this,"Function",(function(e){return"function"===typeof e}),(function(e,n){return t.is(e)?j(e):k(e,n)}),C)||this;return t._tag="FunctionType",t}return L(t,e),t}(N)),function(e){function t(t,n,r,i,s,o){var a=e.call(this,t,n,r,i,s)||this;return a.tag=o,a}L(t,e)}(he),new(function(e){function t(){var t=e.call(this,"never",(function(e){return!1}),(function(e,t){return k(e,t)}),(function(){throw new Error("cannot encode never")}))||this;return t._tag="NeverType",t}return L(t,e),t}(N)),new(function(e){function t(){var t=e.call(this,"any",(function(e){return!0}),j,C)||this;return t._tag="AnyType",t}return L(t,e),t}(N)),new(function(e){function t(){var t=e.call(this,"object",(function(e){return null!==e&&"object"===typeof e}),(function(e,n){return t.is(e)?j(e):k(e,n)}),C)||this;return t._tag="ObjectType",t}return L(t,e),t}(N));function pe(e,t,n){return void 0===n&&(n="("+e.name+" | "+function(e){return e.displayName||e.name||"<function"+e.length+">"}(t)+")"),new ne(n,(function(n){return e.is(n)&&t(n)}),(function(n,r){var i=e.validate(n,r);if(E(i))return i;var s=i.right;return t(s)?j(s):k(s,r)}),e.encode,e,t)}pe(Q,Number.isInteger,"Integer"),function(e){function t(t,n,r,i,s){var o=e.call(this,t,n,r,i)||this;return o.props=s,o._tag="StrictType",o}L(t,e)}(N);const ge=de(X,_e([ue({name:X}),ae({components:de(X,_e([ae({id:X,model:_e([ae({id:X,variations:se(_e([ae({id:X}),ue({name:X})]))}),ue({name:X})]),mocks:de(X,ae({variation:X}))}),ue({name:X})]))})]));var ve,me,ye,we;(me=ve||(ve={})).ManagedState="managedState",me.Slices="slices",me.ActiveSlice="activeSlice",me.Message="message",(we=ye||(ye={})).Pending="pending",we.Loaded="loaded",we.Error="error";const Se=()=>({data:null,status:ye.Pending,error:null}),be="slice-simulator",Ie="slice-simulator--root",Te=e=>{let t=document.querySelector(`.${be} [data-slice-zone]`);if(t)return t.children.length!==e&&console.warn(`Flagged SliceZone has an unexpected number of children, found ${t.children.length} but expected ${e}. This might lead to unexpected behaviors. Are you sure you tagged the right element?`),t;if(t=document.querySelector(`.${be} .slice-simulator--root`),!t)return null;for(let n=0;n<5;n++){if(t.children.length===e)return t;if(!t.children.length)break;t=t.children[0]}return null},Me=(e,t)=>`<a href="${e}" style="text-decoration: underline;">${t||e}<a>`,qe=`<div style="word-spacing: initial; white-space: pre; line-height: initial; font-family: monospace; color: #ffffff; mix-blend-mode: difference; padding: 1rem; font-size: 1rem;">${["   _____ ___          _____ _                 __      __            \n  / ___// (_)_______ / ___/(_)___ ___  __  __/ /___ _/ /_____  _____\n  \\__ \\/ / / ___/ _ \\\\__ \\/ / __ `__ \\/ / / / / __ `/ __/ __ \\/ ___/\n ___/ / / / /__/  __/__/ / / / / / / / /_/ / / /_/ / /_/ /_/ / /    \n/____/_/_/\\___/\\___/____/_/_/ /_/ /_/\\__,_/_/\\__,_/\\__/\\____/_/     \n                  / /_  __  __   / __ \\_____(_)________ ___  (_)____\n                 / __ \\/ / / /  / /_/ / ___/ / ___/ __ `__ \\/ / ___/\n                / /_/ / /_/ /  / ____/ /  / (__  ) / / / / / / /__  \n               /_.___/\\__, /  /_/   /_/  /_/____/_/ /_/ /_/_/\\___/  \n                     /____/\n\n",`You're seeing this page because you're accessing Slice Simulator\ndirectly, e.g:\n\n  - ${Me("http://localhost:3000/slice-simulator")}\n\n\n\nSlice Simulator is not meant to be accessed this way, to preview your\nslices, head over to Slice Machine UI:\n\n  - ${Me("http://localhost:9999")}\n\n\n\nIf you believe this is an error, please reach out to us:\n\n  - ${Me("https://github.com/prismicio/slice-machine/issues/new/choose")}`,"\n\n\n\n\n\n                                                - The Prismic team"].join("")}</div>`;const De=(e,t=16)=>{let n=0,r=null;return function(...i){const s=Date.now(),o=s-n;o>=t?(e.apply(this,i),n=s):(r&&clearTimeout(r),r=setTimeout((()=>{e.apply(this,i),n=Date.now()}),t-o))}};class Re extends class{constructor(){this._listeners={}}on(e,t,n=null){var r;this._listeners[e]=[...null!=(r=this._listeners[e])?r:[],[t,n]]}off(e,t){var n;this._listeners[e]=(null!=(n=this._listeners[e])?n:[]).filter((([e,n])=>"function"===typeof t?e!==t:n!==t))}emit(e,t){var n;(null!=(n=this._listeners[e])?n:[]).forEach((e=>e[0](t)))}}{constructor(e=Se(),t=[]){super(),this._setActiveSlice=()=>{if(0===this.slices.length)return void(this.activeSlice=null);const e=Te(this.slices.length);if(!e)return void(this.activeSlice=null);const t=((e,t)=>{const n=document.elementsFromPoint(t.x,t.y).reverse(),r=n.indexOf(e);if(-1===r)return null;return n[r+1]||null})(e,this._mouse);if(!t)return void(this.activeSlice=null);const n=Array.prototype.indexOf.call(e.children,t);this.activeSlice={rect:t.getBoundingClientRect(),sliceID:this.slices[n].slice_type,variationID:this.slices[n].variation,index:n}},this.setActiveSlice=De(this._setActiveSlice,16),this._setSliceZoneFromSliceIDsLastCall=null,this._managedState=e,this._slices=t,this._activeSlice=null,this._message="",this._mouse={x:0,y:0}}set managedState(e){this._managedState=e,this.emit(ve.ManagedState,e)}get managedState(){return this._managedState}set slices(e){this._slices=e,this.message="",this.emit(ve.Slices,e),this.setActiveSlice()}get slices(){return this._slices}set activeSlice(e){this._activeSlice=e,this.emit(ve.ActiveSlice,e)}get activeSlice(){return this._activeSlice}set message(e){this._message=e,this.emit(ve.Message,e)}get message(){return this._message}async init(e){this._managedState=await this.load(e),await this.forceSliceChunksDownload(),this.setDefaultSliceZone(),this.emit(ve.ManagedState,this._managedState),window.addEventListener("mousemove",(e=>{this._mouse={x:e.clientX,y:e.clientY}}))}async load(e){try{const t=await("function"===typeof e?e():e),n=ge.decode(t);if("Left"===n._tag)throw console.error(n.left),new Error("State does not validate expected format, see console logs for detailed report");return{data:n.right,status:ye.Loaded,error:null}}catch(t){return console.error(t),{data:null,status:ye.Error,error:t}}}async reload(e){this.managedState=await this.load(e),this.recoverSliceZone()}_throwIfNotLoaded(e){var t;if(this.managedState.status===ye.Error)throw null!=(t=this.managedState.error)?t:new Error("Unknown state error, see console logs for detailed report");if(this.managedState.status===ye.Pending||!this.managedState.data)throw new Error(`\`StateManager.${e}()\` can only be called when the state is loaded, use \`StateManager.load()\` first`)}getLibraries(){return this._throwIfNotLoaded("getLibraries"),Object.entries(this.managedState.data).map((([e,t])=>{const n=t.components;return{path:e,slices:Object.values(n).map((e=>({id:e.id,name:e.name||e.id,variations:e.model.variations.map((e=>({id:e.id,name:e.name||e.id})))})))}}))}getMocks(){return this._throwIfNotLoaded("getMocks"),Object.values(this.managedState.data).reduce(((e,t)=>{const n=t.components;return Object.values(n).forEach((t=>{e[t.id]=Object.values(t.mocks).reduce(((e,t)=>(e[t.variation]=t,e)),{})})),e}),{})}async forceSliceChunksDownload(){this.setSliceZoneFromSliceIDs(this.getLibraries().map((e=>e.slices.map((e=>({sliceID:e.id,variationID:e.variations[0].id}))))).flat()),await new Promise((e=>setTimeout(e,0))),this.slices=[]}setDefaultSliceZone(){if(this._throwIfNotLoaded("setDefaultSliceZone"),"undefined"!==typeof window){const e=new URL(window.location.href);e.searchParams.has("sid")&&e.searchParams.has("vid")&&this.setSliceZoneFromSliceIDs([{sliceID:e.searchParams.get("sid"),variationID:e.searchParams.get("vid")}])}}recoverSliceZone(){this._setSliceZoneFromSliceIDsLastCall&&this.setSliceZoneFromSliceIDs(this._setSliceZoneFromSliceIDsLastCall)}setSliceZone(e){this._setSliceZoneFromSliceIDsLastCall=null,this.slices=e}setSliceZoneFromSliceIDs(e){this._setSliceZoneFromSliceIDsLastCall=e;const t=this.getMocks();this.slices=e.map((e=>{const n=e.sliceID,r=e.variationID;if(n in t&&r in t[n])return t[n][r]})).filter(Boolean)}}const xe=e=>{e.preventDefault(),e.stopPropagation()},Ee=e=>{e.path&&e.path.slice(0,5).some((e=>e instanceof HTMLAnchorElement))&&(e.preventDefault(),e.stopPropagation())},Le=new class{constructor(e=Se(),t=[]){this.stateManager=new Re(e,t),this._api=null}async init(e){if(this.stateManager.managedState.status!==ye.Loaded){await this.stateManager.init(e);try{await this._initAPI()}catch(t){return t instanceof Error&&"Receiver is currently not embedded as an iframe"===t.message&&!this.stateManager.slices.length&&(this.stateManager.message=qe),void console.error(t)}this._initListeners()}else await this.stateManager.reload(e)}async _initAPI(){this._api=new D({[I.GetLibraries]:(e,t)=>t.success(this.stateManager.getLibraries()),[I.SetSliceZone]:(e,t)=>(this.stateManager.setSliceZone(e.data),t.success()),[I.SetSliceZoneFromSliceIDs]:(e,t)=>(this.stateManager.setSliceZoneFromSliceIDs(e.data),t.success()),[I.ScrollToSlice]:(e,t)=>{if(e.data.sliceIndex<0)return t.error("`sliceIndex` must be > 0",400);if(e.data.sliceIndex>=this.stateManager.slices.length)return t.error(`\`sliceIndex\` must be < ${this.stateManager.slices.length} (\`<SliceZone />\` current length)`,400);const n=Te(this.stateManager.slices.length);if(!n)return t.error("Failed to find `<SliceZone />`",500);this.stateManager.activeSlice=null;const r=n.children[e.data.sliceIndex];return r?(r.scrollIntoView({behavior:e.data.behavior,block:e.data.block,inline:e.data.inline}),setTimeout(this.stateManager.setActiveSlice,750),t.success()):t.error("Failed fo find slice at index $`{req.data.sliceIndex}` in `<SliceZone />`",500)}}),await this._api.ready()}_initListeners(){window.addEventListener("mousemove",this.stateManager.setActiveSlice),window.addEventListener("resize",this.stateManager.setActiveSlice),window.addEventListener("mousewheel",(()=>{setTimeout(this.stateManager.setActiveSlice,200)})),this.stateManager.on(ve.ActiveSlice,(async e=>{if(this._api)try{await this._api.setActiveSlice(e)}catch(t){if(!(t instanceof d&&400===t.response.status))throw t;console.error(t.response)}}))}},Pe=e=>{var t,n;const i={zIndex:100,background:"#ffffff"},[s,o]=r.useState(Se()),[a,c]=r.useState([]),[u,l]=r.useState("");r.useEffect((()=>(Le.stateManager.on(ve.ManagedState,(e=>{o(e)}),"simulator-managed-state"),Le.stateManager.on(ve.Slices,(e=>{c(e)}),"simulator-slices"),Le.stateManager.on(ve.Message,(e=>{l(e)}),"simulator-message"),Le.init(e.state),()=>{Le.stateManager.off(ve.ManagedState,"simulator-managed-state"),Le.stateManager.off(ve.Slices,"simulator-slices"),Le.stateManager.off(ve.Message,"simulator-message")})),[]);const d=r.useRef(!1);return r.useEffect((()=>{d.current?Le.stateManager.reload(e.state):d.current=!0}),[e.state]),r.createElement("div",{className:[be,e.className].filter(Boolean).join(" "),style:{zIndex:"undefined"===typeof e.zIndex?i.zIndex:null!=(t=e.zIndex)?t:void 0,position:"fixed",top:0,left:0,width:"100%",height:"100vh",overflow:"auto",background:"undefined"===typeof e.background?i.background:null!=(n=e.background)?n:void 0}},u?r.createElement("article",{dangerouslySetInnerHTML:{__html:u}}):a.length?r.createElement("div",{id:"root",className:Ie,style:s.status!==ye.Loaded?{display:"none"}:void 0,onClickCapture:Ee,onSubmitCapture:xe},e.sliceZone({slices:a})):null)}},855:function(e){e.exports=JSON.parse('{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I\'m a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}')}}]);